<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Operative / Procedure Note</title>
    <style>
        body {
            font-family: 'Times New Roman', Times, serif;
            margin: 40px;
            color: #000;
            line-height: 1.5;
        }

        .op-title {
            text-align: center;
            font-weight: bold;
            font-size: 20pt;
            border-bottom: 2px solid #000;
            padding-bottom: 10px;
            margin-bottom: 25px;
            text-transform: uppercase;
        }

        .op-grid {
            display: grid;
            grid-template-columns: 200px 1fr;
            margin-bottom: 15px;
            border-bottom: 1px dotted #ccc;
            padding-bottom: 8px;
        }

        .op-label {
            font-weight: bold;
            color: #000;
        }

        .op-value {
            color: #333;
        }

        .op-section {
            margin-top: 30px;
        }

        .op-section h3 {
            font-size: 14pt;
            text-decoration: underline;
            margin-bottom: 10px;
        }

        .op-text {
            font-size: 11pt;
            white-space: pre-line;
            text-align: justify;
        }

        .no-data {
            color: #888;
            font-style: italic;
        }
    </style>
</head>

<body>

    {% include '_header.html' %}

    <div class="op-title">Operative / Procedure Note</div>

    <!-- Key Details Grid -->
    <div class="op-grid">
        <span class="op-label">Pre-Operative Diagnosis:</span>
        <span class="op-value">{{ dynamic_data.get('pre_operative_diagnosis', '<span class="no-data">Not
                provided</span>')|safe }}</span>
    </div>
    <div class="op-grid">
        <span class="op-label">Post-Operative Diagnosis:</span>
        <span class="op-value">{{ dynamic_data.get('post_operative_diagnosis', '<span class="no-data">Not
                provided</span>')|safe }}</span>
    </div>
    <div class="op-grid">
        <span class="op-label">Procedure Performed:</span>
        <span class="op-value" style="font-weight: bold;">{{ dynamic_data.get('procedure_performed', '<span
                class="no-data">Not provided</span>')|safe }}</span>
    </div>

    <div style="height: 15px;"></div>

    <div class="op-grid">
        <span class="op-label">Surgeon:</span>
        <span class="op-value">{{ dynamic_data.get('surgeon_name', '<span class="no-data">Not provided</span>')|safe
            }}</span>
    </div>
    <div class="op-grid">
        <span class="op-label">Assistants:</span>
        <span class="op-value">
            {% set asst = dynamic_data.get('assistant_names', []) %}
            {% if asst %}
            {{ asst|join(', ') }}
            {% else %}
            <span class="no-data">None</span>
            {% endif %}
        </span>
    </div>
    <div class="op-grid">
        <span class="op-label">Anesthesia Type:</span>
        <span class="op-value">{{ dynamic_data.get('anesthesia_type', '<span class="no-data">Not provided</span>')|safe
            }}</span>
    </div>
    <div class="op-grid">
        <span class="op-label">Estimated Blood Loss:</span>
        <span class="op-value">{{ dynamic_data.get('estimated_blood_loss_ml', '<span class="no-data">Not
                provided</span>')|safe }}</span>
    </div>

    <!-- Complications -->
    <div class="op-section">
        <h3>Complications & Findings</h3>
        <div class="op-text">
            {{ dynamic_data.get('complications', '<span class="no-data">No complications noted.</span>')|safe }}
        </div>
    </div>

</body>


</body>

</html>